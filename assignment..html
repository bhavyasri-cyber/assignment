<!DOCTYPE html>
<html>
<head>
  <title>Student Todo List Using Array</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .fail {
      color: red;
      font-weight: bold;
    }

    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 6px;
      text-align: center;
    }
  </style>
</head>
<body>

<h2>All Student Names</h2>
<ul id="allStudents"></ul>

<h2>Students Scoring More Than 60</h2>
<ul id="above60"></ul>

<h2>Department-wise Student Count</h2>
<ul id="deptCount"></ul>

<h2>Student With Highest Marks</h2>
<p id="topper"></p>

<h2>All Students Table</h2>
<table id="studentTable">
  <tr>
    <th>Name</th>
    <th>Marks</th>
    <th>Department</th>
  </tr>
</table>

<h2>Average Marks</h2>
<p id="average"></p>

<h2>CSE Students</h2>
<ul id="cseList"></ul>

<h2>Students Sorted by Marks (Descending)</h2>
<table id="sortedTable">
  <tr>
    <th>Name</th>
    <th>Marks</th>
    <th>Department</th>
  </tr>
</table>

<h2>Updated List After Adding New Student</h2>
<ul id="updatedList"></ul>

<script>
const students = [
  { id: 1, name: "Jyotsnika", marks: 78, department: "CSE" },
  { id: 2, name: "Lasya", marks: 92, department: "ECE" },
  { id: 3, name: "Kavya", marks: 45, department: "MECH" },
  { id: 4, name: "Srivalli", marks: 66, department: "CSE" },
  { id: 5, name: "Ruthu", marks: 88, department: "ECE" },

  { id: 6, name: "Anusha", marks: 72, department: "CSE" },
  { id: 7, name: "Manasa", marks: 55, department: "MECH" },
  { id: 8, name: "Tapaswi", marks: 81, department: "ECE" },
  { id: 9, name: "Manvitha", marks: 39, department: "CIVIL" },
  { id: 10, name: "Harsha", marks: 90, department: "CSE" },
  { id: 11, name: "Arun", marks: 61, department: "MECH" },
  { id: 12, name: "Karishma", marks: 47, department: "ECE" },
  { id: 13, name: "Ankitha", marks: 68, department: "CIVIL" },
  { id: 14, name: "Meghana", marks: 74, department: "CSE" },
  { id: 15, name: "Hapsa", marks: 82, department: "ECE" },
  { id: 16, name: "Sumana", marks: 58, department: "MECH" },
  { id: 17, name: "Bushra", marks: 95, department: "CSE" },
  { id: 18, name: "Renuka", marks: 43, department: "CIVIL" },
  { id: 19, name: "Radha", marks: 69, department: "ECE" },
  { id: 20, name: "Ravana", marks: 51, department: "MECH" }
];

/* 1. Display all student names */
students.forEach(s => {
  const li = document.createElement("li");
  li.textContent = s.name;
  document.getElementById("allStudents").appendChild(li);
});

/* 2. Students scoring more than 60 */
students.filter(s => s.marks > 60).forEach(s => {
  const li = document.createElement("li");
  li.textContent = `${s.name} (${s.marks})`;
  document.getElementById("above60").appendChild(li);
});

/* 3. Count students in each department */
const deptObj = students.reduce((acc, s) => {
  acc[s.department] = (acc[s.department] || 0) + 1;
  return acc;
}, {});

for (let dept in deptObj) {
  const li = document.createElement("li");
  li.textContent = `${dept} : ${deptObj[dept]}`;
  document.getElementById("deptCount").appendChild(li);
}

/* 4. Student with highest marks */
const highest = students.reduce((max, s) => s.marks > max.marks ? s : max);
document.getElementById("topper").textContent =
  `${highest.name} (${highest.marks})`;

/* 5. Display students in table */
students.forEach(s => {
  const row = document.getElementById("studentTable").insertRow();
  row.insertCell(0).textContent = s.name;
  row.insertCell(1).textContent = s.marks;
  row.insertCell(2).textContent = s.department;

  if (s.marks < 50) {
    row.classList.add("fail");
  }
});

/* 6. Average marks */
const avg =
  students.reduce((sum, s) => sum + s.marks, 0) / students.length;
document.getElementById("average").textContent =
  avg.toFixed(2);

/* 7. Display only CSE students */
students.filter(s => s.department === "CSE").forEach(s => {
  const li = document.createElement("li");
  li.textContent = s.name;
  document.getElementById("cseList").appendChild(li);
});

/* 8. Sort students by marks descending */
const sorted = [...students].sort((a, b) => b.marks - a.marks);
sorted.forEach(s => {
  const row = document.getElementById("sortedTable").insertRow();
  row.insertCell(0).textContent = s.name;
  row.insertCell(1).textContent = s.marks;
  row.insertCell(2).textContent = s.department;

  if (s.marks < 50) {
    row.classList.add("fail");
  }
});

/* 9. Add new student and update list */
const newStudent = { id: 21, name: "Ramesh", marks: 76, department: "CSE" };
students.push(newStudent);

students.forEach(s => {
  const li = document.createElement("li");
  li.textContent = `${s.name} - ${s.marks}`;
  document.getElementById("updatedList").appendChild(li);
});
</script>

</body>
</html>
